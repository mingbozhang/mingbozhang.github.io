---
layout: post
title: "消息队列随笔"
date: 2017-08-13
excerpt: "消息队列随笔"
tags: [MQ]
--- 

#### 1.概述
消息队列是分布式组件的一种，用于进程间通信或者统一进程中不同线程间的通信。Group communication systems provide similar kinds of functionality.(这种在下面做比较)

消息组件一般支持2种模式：  
* 发送／接收  
* 发布／订阅
#### 2.消息队列能带来什么
##### 2.1 好处  
* 松耦合（被调用方即使因为故障没有启动也不影响调用方操作）
* 异步（这个估计不是优点，异步很多实现都是可以达到）
* 跨系统（Http也是跨系统的>_<）
* 伸缩性提高（多个消费者）
* 保存请求（万一处理的过程中处理失败）

##### 2.2 坏处
* 运维工作量增加
* 不利于程序员调试
* 程序运行起来更容易出现故障

#### 2.什么情况下我们需要引入消息队列

#### 3.与消息组件相似技术的比较
##### 3.1 Group communication system

##### 3.2 异步调用，如Spring @Async注解

##### 3.3 进程内queue

##### 3.4

#### 4.如何确定是不是真的需要消息队列
##### 4.1 需求是什么？
##### 4.2 根据需求都有哪些可以选择的方案？
##### 4.3 满足需求的最简单方案是什么？

#### 5.建议
##### 5.1 不要为了引入技术而引入

#### 6.参考资料
https://en.wikipedia.org/wiki/Message_queue
https://en.wikipedia.org/wiki/Group_communication_system
https://en.wikipedia.org/wiki/JGroups
https://en.wikipedia.org/wiki/Java_Message_Service
https://techblog.bozho.net/you-probably-dont-need-a-message-queue/
https://www.slideshare.net/Bozho/overview-of-message-queues
https://www.rabbitmq.com/tutorials/tutorial-three-spring-amqp.html
